@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --bg-primary: #9fb0c1;
    --bg-secondary: #8d9398;
    --bg-tertiary: #80848b;
    --accent: #2cef9e;
    --text-primary: #131518;
    --text-secondary: #161b21;
    --text-tertiary: #273444;
  }

  .dark {
    --bg-primary: #141517;
    --bg-secondary: #1c1d1f;
    --bg-tertiary: #273444;
    --accent: #2cef9e;
    --text-primary: #9da5b6;
    --text-secondary: #dfe2ea;
    --text-tertiary: #ffffff;
  }

  /* Optimize font rendering */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

body {
  margin: 0;
  padding: 0;
  overflow: hidden;
  font-family:
    -apple-system,
    BlinkMacSystemFont,
    Segoe UI,
    Roboto,
    Helvetica Neue,
    Arial,
    Noto Sans,
    Liberation Sans,
    sans-serif,
    Apple Color Emoji,
    Segoe UI Emoji,
    Segoe UI Symbol,
    Noto Color Emoji;
  color: var(--text-primary);
  background: var(--bg-primary);
  /* Optimize repaints */
  transform: translateZ(0);
  will-change: auto;
}

/* Remove outline for mouse users, but keep for keyboard users */
button[type="button"]:focus:not(:focus-visible) {
  outline: none;
}

/* Enhanced focus styles for keyboard navigation (WCAG 2.2) */
button[type="button"]:focus-visible,
a:focus-visible,
[role="button"]:focus-visible,
[role="tab"]:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: 4px;
}

/* Custom focus ring for interactive elements */
.focus-ring {
  outline: none;
}

.focus-ring:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.mask-gradient-right {
  mask-image: linear-gradient(
    to right,
    var(--bg-primary) 90%,
    transparent 100%
  );
  -webkit-mask-image: linear-gradient(
    to right,
    var(--bg-primary) 90%,
    transparent 100%
  );
}

#draggable {
  user-select: none;
  -webkit-app-region: drag;
  overflow: hidden;
}

/* Utility classes for performance optimization */
@layer utilities {
  /* GPU acceleration for smooth animations */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
  }

  /* Optimize image rendering */
  .optimized-img {
    image-rendering: crisp-edges;
  }

  /* Prevent layout shift */
  .prevent-shift {
    content-visibility: auto;
    contain-intrinsic-size: auto 500px;
  }

  /* Smooth scroll for better UX */
  .smooth-scroll {
    scroll-behavior: smooth;
  }

  /* Reduce motion for accessibility (WCAG 2.2) */
  /* Important flags are necessary here to override animations for users with motion sensitivity */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms;
      animation-iteration-count: 1;
      transition-duration: 0.01ms;
      scroll-behavior: auto;
    }
  }
}
